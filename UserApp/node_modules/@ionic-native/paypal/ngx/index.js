import { __decorate, __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
var PayPal = /** @class */ (function (_super) {
    __extends(PayPal, _super);
    function PayPal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PayPal.prototype.version = function () { return cordova(this, "version", {}, arguments); };
    PayPal.prototype.init = function (clientIdsForEnvironments) { return cordova(this, "init", {}, arguments); };
    PayPal.prototype.prepareToRender = function (environment, configuration) { return cordova(this, "prepareToRender", {}, arguments); };
    PayPal.prototype.renderSinglePaymentUI = function (payment) { return cordova(this, "renderSinglePaymentUI", {}, arguments); };
    PayPal.prototype.clientMetadataID = function () { return cordova(this, "clientMetadataID", {}, arguments); };
    PayPal.prototype.renderFuturePaymentUI = function () { return cordova(this, "renderFuturePaymentUI", {}, arguments); };
    PayPal.prototype.renderProfileSharingUI = function (scopes) { return cordova(this, "renderProfileSharingUI", {}, arguments); };
    PayPal.pluginName = "PayPal";
    PayPal.plugin = "com.paypal.cordova.mobilesdk";
    PayPal.pluginRef = "PayPalMobile";
    PayPal.repo = "https://github.com/paypal/PayPal-Cordova-Plugin";
    PayPal.platforms = ["Android", "iOS"];
    PayPal = __decorate([
        Injectable()
    ], PayPal);
    return PayPal;
}(IonicNativePlugin));
export { PayPal };
var PayPalPayment = /** @class */ (function () {
    function PayPalPayment(amount, currency, shortDescription, intent, details) {
        /**
         * Optional Build Notation code ("BN code"), obtained from partnerprogram@paypal.com,
         * for your tracking purposes.
         */
        this.bnCode = 'PhoneGap_SP';
        this.amount = amount;
        this.currency = currency;
        this.shortDescription = shortDescription;
        this.intent = intent;
        this.details = details;
    }
    return PayPalPayment;
}());
export { PayPalPayment };
var PayPalItem = /** @class */ (function () {
    /**
     * The PayPalItem class defines an optional itemization for a payment.
     * @see https://developer.paypal.com/docs/api/#item-object for more details.
     * @param {String} name: Name of the item. 127 characters max
     * @param {Number} quantity: Number of units. 10 characters max.
     * @param {String} price: Unit price for this item 10 characters max.
     * May be negative for "coupon" etc
     * @param {String} currency: ISO standard currency code.
     * @param {String} sku: The stock keeping unit for this item. 50 characters max (optional)
     */
    function PayPalItem(name, quantity, price, currency, sku) {
        this.name = name;
        this.quantity = quantity;
        this.price = price;
        this.currency = currency;
        this.sku = sku;
    }
    return PayPalItem;
}());
export { PayPalItem };
var PayPalPaymentDetails = /** @class */ (function () {
    /**
     * The PayPalPaymentDetails class defines optional amount details.
     * @param {String} subtotal: Sub-total (amount) of items being paid for. 10 characters max with support for 2 decimal places.
     * @param {String} shipping: Amount charged for shipping. 10 characters max with support for 2 decimal places.
     * @param {String} tax: Amount charged for tax. 10 characters max with support for 2 decimal places.
     */
    function PayPalPaymentDetails(subtotal, shipping, tax) {
        this.subtotal = subtotal;
        this.shipping = shipping;
        this.tax = tax;
    }
    return PayPalPaymentDetails;
}());
export { PayPalPaymentDetails };
var PayPalConfiguration = /** @class */ (function () {
    /**
     * You use a PayPalConfiguration object to configure many aspects of how the SDK behaves.
     * see defaults for options available
     */
    function PayPalConfiguration(options) {
        var defaults = {
            defaultUserEmail: null,
            defaultUserPhoneCountryCode: null,
            defaultUserPhoneNumber: null,
            merchantName: null,
            merchantPrivacyPolicyURL: null,
            merchantUserAgreementURL: null,
            acceptCreditCards: true,
            payPalShippingAddressOption: 0,
            rememberUser: true,
            languageOrLocale: null,
            disableBlurWhenBackgrounding: false,
            presentingInPopover: false,
            forceDefaultsInSandbox: false,
            sandboxUserPassword: null,
            sandboxUserPin: null
        };
        if (options && typeof options === 'object') {
            for (var i in options) {
                if (defaults.hasOwnProperty(i)) {
                    defaults[i] = options[i];
                }
            }
        }
        return defaults;
    }
    return PayPalConfiguration;
}());
export { PayPalConfiguration };
var PayPalShippingAddress = /** @class */ (function () {
    /**
     * See the documentation of the individual properties for more detail.
     * @param {String} recipientName: Name of the recipient at this address. 50 characters max.
     * @param {String} line1: Line 1 of the address (e.g., Number, street, etc). 100 characters max.
     * @param {String} line2: Line 2 of the address (e.g., Suite, apt #, etc). 100 characters max. Optional.
     * @param {String} city: City name. 50 characters max.
     * @param {String} state: 2-letter code for US states, and the equivalent for other countries. 100 characters max. Required in certain countries.
     * @param {String} postalCode: ZIP code or equivalent is usually required for countries that have them. 20 characters max. Required in certain countries.
     * @param {String} countryCode: 2-letter country code. 2 characters max.
     */
    function PayPalShippingAddress(recipientName, line1, line2, city, state, postalCode, countryCode) {
        this.recipientName = recipientName;
        this.line1 = line1;
        this.line2 = line2;
        this.city = city;
        this.state = state;
        this.postalCode = postalCode;
        this.countryCode = countryCode;
    }
    return PayPalShippingAddress;
}());
export { PayPalShippingAddress };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL3BheXBhbC9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQzs7SUF5RTVDLDBCQUFpQjs7OztJQU0zQyx3QkFBTztJQWNQLHFCQUFJLGFBQUMsd0JBQTJDO0lBY2hELGdDQUFlLGFBQ2IsV0FBbUIsRUFDbkIsYUFBa0M7SUFjcEMsc0NBQXFCLGFBQUMsT0FBc0I7SUFlNUMsaUNBQWdCO0lBU2hCLHNDQUFxQjtJQVlyQix1Q0FBc0IsYUFBQyxNQUFnQjs7Ozs7O0lBdEY1QixNQUFNO1FBRGxCLFVBQVUsRUFBRTtPQUNBLE1BQU07aUJBMUVuQjtFQTBFNEIsaUJBQWlCO1NBQWhDLE1BQU07O0lBb0dqQix1QkFDRSxNQUFjLEVBQ2QsUUFBZ0IsRUFDaEIsZ0JBQXdCLEVBQ3hCLE1BQWMsRUFDZCxPQUE4QjtRQXlCaEM7OztXQUdHO1FBQ0gsV0FBTSxHQUFHLGFBQWEsQ0FBQztRQTNCckIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3pDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3pCLENBQUM7d0JBMUxIOzs7O0lBcVBFOzs7Ozs7Ozs7T0FTRztJQUNILG9CQUNFLElBQVksRUFDWixRQUFnQixFQUNoQixLQUFhLEVBQ2IsUUFBZ0IsRUFDaEIsR0FBWTtRQUVaLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ2pCLENBQUM7cUJBM1FIOzs7O0lBbVRFOzs7OztPQUtHO0lBQ0gsOEJBQVksUUFBZ0IsRUFBRSxRQUFnQixFQUFFLEdBQVc7UUFDekQsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDakIsQ0FBQzsrQkE3VEg7Ozs7SUE0YUU7OztPQUdHO0lBQ0gsNkJBQVksT0FBb0M7UUFDOUMsSUFBTSxRQUFRLEdBQStCO1lBQzNDLGdCQUFnQixFQUFFLElBQUk7WUFDdEIsMkJBQTJCLEVBQUUsSUFBSTtZQUNqQyxzQkFBc0IsRUFBRSxJQUFJO1lBQzVCLFlBQVksRUFBRSxJQUFJO1lBQ2xCLHdCQUF3QixFQUFFLElBQUk7WUFDOUIsd0JBQXdCLEVBQUUsSUFBSTtZQUM5QixpQkFBaUIsRUFBRSxJQUFJO1lBQ3ZCLDJCQUEyQixFQUFFLENBQUM7WUFDOUIsWUFBWSxFQUFFLElBQUk7WUFDbEIsZ0JBQWdCLEVBQUUsSUFBSTtZQUN0Qiw0QkFBNEIsRUFBRSxLQUFLO1lBQ25DLG1CQUFtQixFQUFFLEtBQUs7WUFDMUIsc0JBQXNCLEVBQUUsS0FBSztZQUM3QixtQkFBbUIsRUFBRSxJQUFJO1lBQ3pCLGNBQWMsRUFBRSxJQUFJO1NBQ3JCLENBQUM7UUFFRixJQUFJLE9BQU8sSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7WUFDMUMsS0FBSyxJQUFNLENBQUMsSUFBSSxPQUFPLEVBQUU7Z0JBQ3ZCLElBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDOUIsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDMUI7YUFDRjtTQUNGO1FBRUQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQzs4QkE1Y0g7Ozs7SUFtZEU7Ozs7Ozs7OztPQVNHO0lBQ0gsK0JBQ0UsYUFBcUIsRUFDckIsS0FBYSxFQUNiLEtBQWEsRUFDYixJQUFZLEVBQ1osS0FBYSxFQUNiLFVBQWtCLEVBQ2xCLFdBQW1CO1FBRW5CLElBQUksQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO1FBQ25DLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0lBQ2pDLENBQUM7Z0NBN2VIIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbi8qKlxuICogQG5hbWUgUGF5UGFsXG4gKiBAZGVzY3JpcHRpb25cbiAqIFBheVBhbCBwbHVnaW4gZm9yIENvcmRvdmEvSW9uaWMgQXBwbGljYXRpb25zXG4gKlxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBQYXlQYWwsIFBheVBhbFBheW1lbnQsIFBheVBhbENvbmZpZ3VyYXRpb24gfSBmcm9tICdAaW9uaWMtbmF0aXZlL3BheXBhbC9uZ3gnO1xuICpcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgcGF5UGFsOiBQYXlQYWwpIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLnBheVBhbC5pbml0KHtcbiAqICAgUGF5UGFsRW52aXJvbm1lbnRQcm9kdWN0aW9uOiAnWU9VUl9QUk9EVUNUSU9OX0NMSUVOVF9JRCcsXG4gKiAgIFBheVBhbEVudmlyb25tZW50U2FuZGJveDogJ1lPVVJfU0FOREJPWF9DTElFTlRfSUQnXG4gKiB9KS50aGVuKCgpID0+IHtcbiAqICAgLy8gRW52aXJvbm1lbnRzOiBQYXlQYWxFbnZpcm9ubWVudE5vTmV0d29yaywgUGF5UGFsRW52aXJvbm1lbnRTYW5kYm94LCBQYXlQYWxFbnZpcm9ubWVudFByb2R1Y3Rpb25cbiAqICAgdGhpcy5wYXlQYWwucHJlcGFyZVRvUmVuZGVyKCdQYXlQYWxFbnZpcm9ubWVudFNhbmRib3gnLCBuZXcgUGF5UGFsQ29uZmlndXJhdGlvbih7XG4gKiAgICAgLy8gT25seSBuZWVkZWQgaWYgeW91IGdldCBhbiBcIkludGVybmFsIFNlcnZpY2UgRXJyb3JcIiBhZnRlciBQYXlQYWwgbG9naW4hXG4gKiAgICAgLy9wYXlQYWxTaGlwcGluZ0FkZHJlc3NPcHRpb246IDIgLy8gUGF5UGFsU2hpcHBpbmdBZGRyZXNzT3B0aW9uUGF5UGFsXG4gKiAgIH0pKS50aGVuKCgpID0+IHtcbiAqICAgICBsZXQgcGF5bWVudCA9IG5ldyBQYXlQYWxQYXltZW50KCczLjMzJywgJ1VTRCcsICdEZXNjcmlwdGlvbicsICdzYWxlJyk7XG4gKiAgICAgdGhpcy5wYXlQYWwucmVuZGVyU2luZ2xlUGF5bWVudFVJKHBheW1lbnQpLnRoZW4oKCkgPT4ge1xuICogICAgICAgLy8gU3VjY2Vzc2Z1bGx5IHBhaWRcbiAqXG4gKiAgICAgICAvLyBFeGFtcGxlIHNhbmRib3ggcmVzcG9uc2VcbiAqICAgICAgIC8vXG4gKiAgICAgICAvLyB7XG4gKiAgICAgICAvLyAgIFwiY2xpZW50XCI6IHtcbiAqICAgICAgIC8vICAgICBcImVudmlyb25tZW50XCI6IFwic2FuZGJveFwiLFxuICogICAgICAgLy8gICAgIFwicHJvZHVjdF9uYW1lXCI6IFwiUGF5UGFsIGlPUyBTREtcIixcbiAqICAgICAgIC8vICAgICBcInBheXBhbF9zZGtfdmVyc2lvblwiOiBcIjIuMTYuMFwiLFxuICogICAgICAgLy8gICAgIFwicGxhdGZvcm1cIjogXCJpT1NcIlxuICogICAgICAgLy8gICB9LFxuICogICAgICAgLy8gICBcInJlc3BvbnNlX3R5cGVcIjogXCJwYXltZW50XCIsXG4gKiAgICAgICAvLyAgIFwicmVzcG9uc2VcIjoge1xuICogICAgICAgLy8gICAgIFwiaWRcIjogXCJQQVktMUFCMjM0NTZDRDc4OTAxMkVGMzRHSElKXCIsXG4gKiAgICAgICAvLyAgICAgXCJzdGF0ZVwiOiBcImFwcHJvdmVkXCIsXG4gKiAgICAgICAvLyAgICAgXCJjcmVhdGVfdGltZVwiOiBcIjIwMTYtMTAtMDNUMTM6MzM6MzNaXCIsXG4gKiAgICAgICAvLyAgICAgXCJpbnRlbnRcIjogXCJzYWxlXCJcbiAqICAgICAgIC8vICAgfVxuICogICAgICAgLy8gfVxuICogICAgIH0sICgpID0+IHtcbiAqICAgICAgIC8vIEVycm9yIG9yIHJlbmRlciBkaWFsb2cgY2xvc2VkIHdpdGhvdXQgYmVpbmcgc3VjY2Vzc2Z1bFxuICogICAgIH0pO1xuICogICB9LCAoKSA9PiB7XG4gKiAgICAgLy8gRXJyb3IgaW4gY29uZmlndXJhdGlvblxuICogICB9KTtcbiAqIH0sICgpID0+IHtcbiAqICAgLy8gRXJyb3IgaW4gaW5pdGlhbGl6YXRpb24sIG1heWJlIFBheVBhbCBpc24ndCBzdXBwb3J0ZWQgb3Igc29tZXRoaW5nIGVsc2VcbiAqIH0pO1xuICogYGBgXG4gKiBAaW50ZXJmYWNlc1xuICogUGF5UGFsRW52aXJvbm1lbnRcbiAqIFBheVBhbENvbmZpZ3VyYXRpb25PcHRpb25zXG4gKiBAY2xhc3Nlc1xuICogUGF5UGFsUGF5bWVudFxuICogUGF5UGFsSXRlbVxuICogUGF5UGFsUGF5bWVudERldGFpbHNcbiAqIFBheVBhbFNoaXBwaW5nQWRkcmVzc1xuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ1BheVBhbCcsXG4gIHBsdWdpbjogJ2NvbS5wYXlwYWwuY29yZG92YS5tb2JpbGVzZGsnLFxuICBwbHVnaW5SZWY6ICdQYXlQYWxNb2JpbGUnLFxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3BheXBhbC9QYXlQYWwtQ29yZG92YS1QbHVnaW4nLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXVxufSlcbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQYXlQYWwgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgdmVyc2lvbiBvZiB0aGUgUGF5UGFsIGlPUyBTREsgbGlicmFyeS4gVXNlZnVsIHdoZW4gY29udGFjdGluZyBzdXBwb3J0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fVxuICAgKi9cbiAgQENvcmRvdmEoKVxuICB2ZXJzaW9uKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFlvdSBtdXN0IHByZWNvbm5lY3QgdG8gUGF5UGFsIHRvIHByZXBhcmUgdGhlIGRldmljZSBmb3IgcHJvY2Vzc2luZyBwYXltZW50cy5cbiAgICogVGhpcyBpbXByb3ZlcyB0aGUgdXNlciBleHBlcmllbmNlLCBieSBtYWtpbmcgdGhlIHByZXNlbnRhdGlvbiBvZiB0aGVcbiAgICogVUkgZmFzdGVyLiBUaGUgcHJlY29ubmVjdCBpcyB2YWxpZCBmb3IgYSBsaW1pdGVkIHRpbWUsIHNvXG4gICAqIHRoZSByZWNvbW1lbmRlZCB0aW1lIHRvIHByZWNvbm5lY3QgaXMgb24gcGFnZSBsb2FkLlxuICAgKlxuICAgKiBAcGFyYW0ge1BheVBhbEVudmlyb25tZW50fSBjbGllbnRJZHNGb3JFbnZpcm9ubWVudHM6IHNldCBvZiBjbGllbnQgaWRzIGZvciBlbnZpcm9ubWVudHNcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgaW5pdChjbGllbnRJZHNGb3JFbnZpcm9ubWVudHM6IFBheVBhbEVudmlyb25tZW50KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogWW91IG11c3QgcHJlY29ubmVjdCB0byBQYXlQYWwgdG8gcHJlcGFyZSB0aGUgZGV2aWNlIGZvciBwcm9jZXNzaW5nIHBheW1lbnRzLlxuICAgKiBUaGlzIGltcHJvdmVzIHRoZSB1c2VyIGV4cGVyaWVuY2UsIGJ5IG1ha2luZyB0aGUgcHJlc2VudGF0aW9uIG9mIHRoZSBVSSBmYXN0ZXIuXG4gICAqIFRoZSBwcmVjb25uZWN0IGlzIHZhbGlkIGZvciBhIGxpbWl0ZWQgdGltZSwgc28gdGhlIHJlY29tbWVuZGVkIHRpbWUgdG8gcHJlY29ubmVjdCBpcyBvbiBwYWdlIGxvYWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBlbnZpcm9ubWVudDogYXZhaWxhYmxlIG9wdGlvbnMgYXJlIFwiUGF5UGFsRW52aXJvbm1lbnROb05ldHdvcmtcIiwgXCJQYXlQYWxFbnZpcm9ubWVudFByb2R1Y3Rpb25cIiBhbmQgXCJQYXlQYWxFbnZpcm9ubWVudFNhbmRib3hcIlxuICAgKiBAcGFyYW0ge1BheVBhbENvbmZpZ3VyYXRpb259IGNvbmZpZ3VyYXRpb246IFBheVBhbENvbmZpZ3VyYXRpb24gb2JqZWN0LCBmb3IgRnV0dXJlIFBheW1lbnRzIG1lcmNoYW50TmFtZSwgbWVyY2hhbnRQcml2YWN5UG9saWN5VVJMIGFuZCBtZXJjaGFudFVzZXJBZ3JlZW1lbnRVUkwgbXVzdCBiZSBzZXQgYmUgc2V0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHByZXBhcmVUb1JlbmRlcihcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nLFxuICAgIGNvbmZpZ3VyYXRpb246IFBheVBhbENvbmZpZ3VyYXRpb25cbiAgKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgUGF5UGFsIFVJIHRvIGNvbGxlY3QgcGF5bWVudCBmcm9tIHRoZSB1c2VyLlxuICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS93ZWJhcHBzL2RldmVsb3Blci9kb2NzL2ludGVncmF0aW9uL21vYmlsZS9pb3MtaW50ZWdyYXRpb24tZ3VpZGUvXG4gICAqIGZvciBtb3JlIGRvY3VtZW50YXRpb24gb2YgdGhlIHBhcmFtcy5cbiAgICpcbiAgICogQHBhcmFtIHtQYXlQYWxQYXltZW50fSBwYXltZW50IFBheVBhbFBheW1lbnQgb2JqZWN0XG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlbmRlclNpbmdsZVBheW1lbnRVSShwYXltZW50OiBQYXlQYWxQYXltZW50KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogT25jZSBhIHVzZXIgaGFzIGNvbnNlbnRlZCB0byBmdXR1cmUgcGF5bWVudHMsIHdoZW4gdGhlIHVzZXIgc3Vic2VxdWVudGx5IGluaXRpYXRlcyBhIFBheVBhbCBwYXltZW50XG4gICAqIGZyb20gdGhlaXIgZGV2aWNlIHRvIGJlIGNvbXBsZXRlZCBieSB5b3VyIHNlcnZlciwgUGF5UGFsIHVzZXMgYSBDb3JyZWxhdGlvbiBJRCB0byB2ZXJpZnkgdGhhdCB0aGVcbiAgICogcGF5bWVudCBpcyBvcmlnaW5hdGluZyBmcm9tIGEgdmFsaWQsIHVzZXItY29uc2VudGVkIGRldmljZSthcHBsaWNhdGlvbi5cbiAgICogVGhpcyBoZWxwcyByZWR1Y2UgZnJhdWQgYW5kIGRlY3JlYXNlIGRlY2xpbmVzLlxuICAgKiBUaGlzIG1ldGhvZCBNVVNUIGJlIGNhbGxlZCBwcmlvciB0byBpbml0aWF0aW5nIGEgcHJlLWNvbnNlbnRlZCBwYXltZW50IChhIFwiZnV0dXJlIHBheW1lbnRcIikgZnJvbSBhIG1vYmlsZSBkZXZpY2UuXG4gICAqIFBhc3MgdGhlIHJlc3VsdCB0byB5b3VyIHNlcnZlciwgdG8gaW5jbHVkZSBpbiB0aGUgcGF5bWVudCByZXF1ZXN0IHNlbnQgdG8gUGF5UGFsLlxuICAgKiBEbyBub3Qgb3RoZXJ3aXNlIGNhY2hlIG9yIHN0b3JlIHRoaXMgdmFsdWUuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIGNsaWVudE1ldGFkYXRhSUQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUGxlYXNlIFJlYWQgRG9jcyBvbiBGdXR1cmUgUGF5bWVudHMgYXQgaHR0cHM6Ly9naXRodWIuY29tL3BheXBhbC9QYXlQYWwtaU9TLVNESyNmdXR1cmUtcGF5bWVudHNcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgcmVuZGVyRnV0dXJlUGF5bWVudFVJKCk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsZWFzZSBSZWFkIERvY3Mgb24gUHJvZmlsZSBTaGFyaW5nIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9wYXlwYWwvUGF5UGFsLWlPUy1TREsjcHJvZmlsZS1zaGFyaW5nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHNjb3BlcyBzY29wZXMgU2V0IG9mIHJlcXVlc3RlZCBzY29wZS12YWx1ZXMuIEFjY2VwdGVkIHNjb3BlcyBhcmU6IG9wZW5pZCwgcHJvZmlsZSwgYWRkcmVzcywgZW1haWwsIHBob25lLCBmdXR1cmVwYXltZW50cyBhbmQgcGF5cGFsYXR0cmlidXRlc1xuICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIucGF5cGFsLmNvbS9kb2NzL2ludGVncmF0aW9uL2RpcmVjdC9pZGVudGl0eS9hdHRyaWJ1dGVzLyBmb3IgbW9yZSBkZXRhaWxzXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XG4gICAqL1xuICBAQ29yZG92YSgpXG4gIHJlbmRlclByb2ZpbGVTaGFyaW5nVUkoc2NvcGVzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF5UGFsRW52aXJvbm1lbnQge1xuICBQYXlQYWxFbnZpcm9ubWVudFByb2R1Y3Rpb246IHN0cmluZztcbiAgUGF5UGFsRW52aXJvbm1lbnRTYW5kYm94OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUGF5UGFsUGF5bWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGFtb3VudDogc3RyaW5nLFxuICAgIGN1cnJlbmN5OiBzdHJpbmcsXG4gICAgc2hvcnREZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgIGludGVudDogc3RyaW5nLFxuICAgIGRldGFpbHM/OiBQYXlQYWxQYXltZW50RGV0YWlsc1xuICApIHtcbiAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgICB0aGlzLmN1cnJlbmN5ID0gY3VycmVuY3k7XG4gICAgdGhpcy5zaG9ydERlc2NyaXB0aW9uID0gc2hvcnREZXNjcmlwdGlvbjtcbiAgICB0aGlzLmludGVudCA9IGludGVudDtcbiAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBhbW91bnQgb2YgdGhlIHBheW1lbnQuXG4gICAqL1xuICBhbW91bnQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBJU08gNDIxNyBjdXJyZW5jeSBmb3IgdGhlIHBheW1lbnQuXG4gICAqL1xuICBjdXJyZW5jeTogc3RyaW5nO1xuICAvKipcbiAgICogQSBzaG9ydCBkZXNjcmlwdGlvbiBvZiB0aGUgcGF5bWVudC5cbiAgICovXG4gIHNob3J0RGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFwiU2FsZVwiIGZvciBhbiBpbW1lZGlhdGUgcGF5bWVudC5cbiAgICovXG4gIGludGVudDogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgQnVpbGQgTm90YXRpb24gY29kZSAoXCJCTiBjb2RlXCIpLCBvYnRhaW5lZCBmcm9tIHBhcnRuZXJwcm9ncmFtQHBheXBhbC5jb20sXG4gICAqIGZvciB5b3VyIHRyYWNraW5nIHB1cnBvc2VzLlxuICAgKi9cbiAgYm5Db2RlID0gJ1Bob25lR2FwX1NQJztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGludm9pY2UgbnVtYmVyLCBmb3IgeW91ciB0cmFja2luZyBwdXJwb3Nlcy4gKHVwIHRvIDI1NiBjaGFyYWN0ZXJzKVxuICAgKi9cbiAgaW52b2ljZU51bWJlcjogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgdGV4dCwgZm9yIHlvdXIgdHJhY2tpbmcgcHVycG9zZXMuICh1cCB0byAyNTYgY2hhcmFjdGVycylcbiAgICovXG4gIGN1c3RvbTogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgdGV4dCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgY3VzdG9tZXIncyBjcmVkaXQgY2FyZCBzdGF0ZW1lbnQuICh1cCB0byAyMiBjaGFyYWN0ZXJzKVxuICAgKi9cbiAgc29mdERlc2NyaXB0b3I6IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGFycmF5IG9mIFBheVBhbEl0ZW0gb2JqZWN0cy5cbiAgICovXG4gIGl0ZW1zOiBQYXlQYWxJdGVtW107XG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIHBheWVlIGVtYWlsLCBpZiB5b3VyIGFwcCBpcyBwYXlpbmcgYSB0aGlyZC1wYXJ0eSBtZXJjaGFudC5cbiAgICogVGhlIHBheWVlJ3MgZW1haWwuIEl0IG11c3QgYmUgYSB2YWxpZCBQYXlQYWwgZW1haWwgYWRkcmVzcy5cbiAgICovXG4gIHBheWVlRW1haWw6IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGN1c3RvbWVyIHNoaXBwaW5nIGFkZHJlc3MsIGlmIHlvdXIgYXBwIHdpc2hlcyB0byBwcm92aWRlIHRoaXMgdG8gdGhlIFNESy5cbiAgICovXG4gIHNoaXBwaW5nQWRkcmVzczogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgUGF5UGFsUGF5bWVudERldGFpbHMgb2JqZWN0XG4gICAqL1xuICBkZXRhaWxzOiBQYXlQYWxQYXltZW50RGV0YWlscztcbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXlQYWxJdGVtIHtcbiAgLyoqXG4gICAqIFRoZSBQYXlQYWxJdGVtIGNsYXNzIGRlZmluZXMgYW4gb3B0aW9uYWwgaXRlbWl6YXRpb24gZm9yIGEgcGF5bWVudC5cbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5wYXlwYWwuY29tL2RvY3MvYXBpLyNpdGVtLW9iamVjdCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZTogTmFtZSBvZiB0aGUgaXRlbS4gMTI3IGNoYXJhY3RlcnMgbWF4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFudGl0eTogTnVtYmVyIG9mIHVuaXRzLiAxMCBjaGFyYWN0ZXJzIG1heC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHByaWNlOiBVbml0IHByaWNlIGZvciB0aGlzIGl0ZW0gMTAgY2hhcmFjdGVycyBtYXguXG4gICAqIE1heSBiZSBuZWdhdGl2ZSBmb3IgXCJjb3Vwb25cIiBldGNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGN1cnJlbmN5OiBJU08gc3RhbmRhcmQgY3VycmVuY3kgY29kZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHNrdTogVGhlIHN0b2NrIGtlZXBpbmcgdW5pdCBmb3IgdGhpcyBpdGVtLiA1MCBjaGFyYWN0ZXJzIG1heCAob3B0aW9uYWwpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgcXVhbnRpdHk6IG51bWJlcixcbiAgICBwcmljZTogc3RyaW5nLFxuICAgIGN1cnJlbmN5OiBzdHJpbmcsXG4gICAgc2t1Pzogc3RyaW5nXG4gICkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5xdWFudGl0eSA9IHF1YW50aXR5O1xuICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICB0aGlzLmN1cnJlbmN5ID0gY3VycmVuY3k7XG4gICAgdGhpcy5za3UgPSBza3U7XG4gIH1cbiAgLyoqXG4gICAqIE5hbWUgb2YgdGhlIGl0ZW0uIDEyNyBjaGFyYWN0ZXJzIG1heFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogTnVtYmVyIG9mIHVuaXRzLiAxMCBjaGFyYWN0ZXJzIG1heC5cbiAgICovXG4gIHF1YW50aXR5OiBudW1iZXI7XG4gIC8qKlxuICAgKiBVbml0IHByaWNlIGZvciB0aGlzIGl0ZW0gMTAgY2hhcmFjdGVycyBtYXguXG4gICAqL1xuICBwcmljZTogc3RyaW5nO1xuICAvKipcbiAgICogSVNPIHN0YW5kYXJkIGN1cnJlbmN5IGNvZGUuXG4gICAqL1xuICBjdXJyZW5jeTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHN0b2NrIGtlZXBpbmcgdW5pdCBmb3IgdGhpcyBpdGVtLiA1MCBjaGFyYWN0ZXJzIG1heCAob3B0aW9uYWwpXG4gICAqL1xuICBza3U/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUGF5UGFsUGF5bWVudERldGFpbHMge1xuICAvKipcbiAgICogU3ViLXRvdGFsIChhbW91bnQpIG9mIGl0ZW1zIGJlaW5nIHBhaWQgZm9yLiAxMCBjaGFyYWN0ZXJzIG1heCB3aXRoIHN1cHBvcnQgZm9yIDIgZGVjaW1hbCBwbGFjZXMuXG4gICAqL1xuICBzdWJ0b3RhbDogc3RyaW5nO1xuICAvKipcbiAgICogQW1vdW50IGNoYXJnZWQgZm9yIHNoaXBwaW5nLiAxMCBjaGFyYWN0ZXJzIG1heCB3aXRoIHN1cHBvcnQgZm9yIDIgZGVjaW1hbCBwbGFjZXMuXG4gICAqL1xuICBzaGlwcGluZzogc3RyaW5nO1xuICAvKipcbiAgICogQW1vdW50IGNoYXJnZWQgZm9yIHRheC4gMTAgY2hhcmFjdGVycyBtYXggd2l0aCBzdXBwb3J0IGZvciAyIGRlY2ltYWwgcGxhY2VzLlxuICAgKi9cbiAgdGF4OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBQYXlQYWxQYXltZW50RGV0YWlscyBjbGFzcyBkZWZpbmVzIG9wdGlvbmFsIGFtb3VudCBkZXRhaWxzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3VidG90YWw6IFN1Yi10b3RhbCAoYW1vdW50KSBvZiBpdGVtcyBiZWluZyBwYWlkIGZvci4gMTAgY2hhcmFjdGVycyBtYXggd2l0aCBzdXBwb3J0IGZvciAyIGRlY2ltYWwgcGxhY2VzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc2hpcHBpbmc6IEFtb3VudCBjaGFyZ2VkIGZvciBzaGlwcGluZy4gMTAgY2hhcmFjdGVycyBtYXggd2l0aCBzdXBwb3J0IGZvciAyIGRlY2ltYWwgcGxhY2VzLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGF4OiBBbW91bnQgY2hhcmdlZCBmb3IgdGF4LiAxMCBjaGFyYWN0ZXJzIG1heCB3aXRoIHN1cHBvcnQgZm9yIDIgZGVjaW1hbCBwbGFjZXMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzdWJ0b3RhbDogc3RyaW5nLCBzaGlwcGluZzogc3RyaW5nLCB0YXg6IHN0cmluZykge1xuICAgIHRoaXMuc3VidG90YWwgPSBzdWJ0b3RhbDtcbiAgICB0aGlzLnNoaXBwaW5nID0gc2hpcHBpbmc7XG4gICAgdGhpcy50YXggPSB0YXg7XG4gIH1cbn1cblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGF5UGFsQ29uZmlndXJhdGlvbk9wdGlvbnMge1xuICAvKipcbiAgICogV2lsbCBiZSBvdmVycmlkZGVuIGJ5IGVtYWlsIHVzZWQgaW4gbW9zdCByZWNlbnQgUGF5UGFsIGxvZ2luLlxuICAgKi9cbiAgZGVmYXVsdFVzZXJFbWFpbD86IHN0cmluZztcbiAgLyoqXG4gICAqIFdpbGwgYmUgb3ZlcnJpZGRlbiBieSBwaG9uZSBjb3VudHJ5IGNvZGUgdXNlZCBpbiBtb3N0IHJlY2VudCBQYXlQYWwgbG9naW5cbiAgICovXG4gIGRlZmF1bHRVc2VyUGhvbmVDb3VudHJ5Q29kZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdpbGwgYmUgb3ZlcnJpZGRlbiBieSBwaG9uZSBudW1iZXIgdXNlZCBpbiBtb3N0IHJlY2VudCBQYXlQYWwgbG9naW4uXG4gICAqL1xuICBkZWZhdWx0VXNlclBob25lTnVtYmVyPzogc3RyaW5nO1xuICAvKipcbiAgICogWW91ciBjb21wYW55IG5hbWUsIGFzIGl0IHNob3VsZCBiZSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIgd2hlbiByZXF1ZXN0aW5nIGNvbnNlbnQgdmlhIGEgUGF5UGFsRnV0dXJlUGF5bWVudFZpZXdDb250cm9sbGVyLlxuICAgKi9cbiAgbWVyY2hhbnROYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIG9mIHlvdXIgY29tcGFueSdzIHByaXZhY3kgcG9saWN5LCB3aGljaCB3aWxsIGJlIG9mZmVyZWQgdG8gdGhlIHVzZXIgd2hlbiByZXF1ZXN0aW5nIGNvbnNlbnQgdmlhIGEgUGF5UGFsRnV0dXJlUGF5bWVudFZpZXdDb250cm9sbGVyLlxuICAgKi9cbiAgbWVyY2hhbnRQcml2YWN5UG9saWN5VVJMPzogc3RyaW5nO1xuICAvKipcbiAgICogVVJMIG9mIHlvdXIgY29tcGFueSdzIHVzZXIgYWdyZWVtZW50LCB3aGljaCB3aWxsIGJlIG9mZmVyZWQgdG8gdGhlIHVzZXIgd2hlbiByZXF1ZXN0aW5nIGNvbnNlbnQgdmlhIGEgUGF5UGFsRnV0dXJlUGF5bWVudFZpZXdDb250cm9sbGVyLlxuICAgKi9cbiAgbWVyY2hhbnRVc2VyQWdyZWVtZW50VVJMPzogc3RyaW5nO1xuICAvKipcbiAgICogSWYgc2V0IHRvIE5PLCB0aGUgU0RLIHdpbGwgb25seSBzdXBwb3J0IHBheWluZyB3aXRoIFBheVBhbCwgbm90IHdpdGggY3JlZGl0IGNhcmRzLlxuICAgKiBUaGlzIGFwcGxpZXMgb25seSB0byBzaW5nbGUgcGF5bWVudHMgKHZpYSBQYXlQYWxQYXltZW50Vmlld0NvbnRyb2xsZXIpLlxuICAgKiBGdXR1cmUgcGF5bWVudHMgKHZpYSBQYXlQYWxGdXR1cmVQYXltZW50Vmlld0NvbnRyb2xsZXIpIGFsd2F5cyB1c2UgUGF5UGFsLlxuICAgKiBEZWZhdWx0cyB0byB0cnVlXG4gICAqL1xuICBhY2NlcHRDcmVkaXRDYXJkcz86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBGb3Igc2luZ2xlIHBheW1lbnRzLCBvcHRpb25zIGZvciB0aGUgc2hpcHBpbmcgYWRkcmVzcy5cbiAgICogLSAwIC0gUGF5UGFsU2hpcHBpbmdBZGRyZXNzT3B0aW9uTm9uZTogbm8gc2hpcHBpbmcgYWRkcmVzcyBhcHBsaWVzLlxuICAgKiAtIDEgLSBQYXlQYWxTaGlwcGluZ0FkZHJlc3NPcHRpb25Qcm92aWRlZDogc2hpcHBpbmcgYWRkcmVzcyB3aWxsIGJlIHByb3ZpZGVkIGJ5IHlvdXIgYXBwLFxuICAgKiAgIGluIHRoZSBzaGlwcGluZ0FkZHJlc3MgcHJvcGVydHkgb2YgUGF5UGFsUGF5bWVudC5cbiAgICogLSAyIC0gUGF5UGFsU2hpcHBpbmdBZGRyZXNzT3B0aW9uUGF5UGFsOiB1c2VyIHdpbGwgY2hvb3NlIGZyb20gc2hpcHBpbmcgYWRkcmVzc2VzIG9uIGZpbGVcbiAgICogICBmb3IgdGhlaXIgUGF5UGFsIGFjY291bnQuXG4gICAqIC0gMyAtIFBheVBhbFNoaXBwaW5nQWRkcmVzc09wdGlvbkJvdGg6IHVzZXIgd2lsbCBjaG9vc2UgZnJvbSB0aGUgc2hpcHBpbmcgYWRkcmVzcyBwcm92aWRlZCBieSB5b3VyIGFwcCxcbiAgICogICBpbiB0aGUgc2hpcHBpbmdBZGRyZXNzIHByb3BlcnR5IG9mIFBheVBhbFBheW1lbnQsIHBsdXMgdGhlIHNoaXBwaW5nIGFkZHJlc3NlcyBvbiBmaWxlIGZvciB0aGUgdXNlcidzIFBheVBhbCBhY2NvdW50LlxuICAgKiBEZWZhdWx0cyB0byAwIChQYXlQYWxTaGlwcGluZ0FkZHJlc3NPcHRpb25Ob25lKS5cbiAgICovXG4gIHBheVBhbFNoaXBwaW5nQWRkcmVzc09wdGlvbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHNldCB0byBZRVMsIHRoZW4gaWYgdGhlIHVzZXIgcGF5cyB2aWEgdGhlaXIgUGF5UGFsIGFjY291bnQsXG4gICAqIHRoZSBTREsgd2lsbCByZW1lbWJlciB0aGUgdXNlcidzIFBheVBhbCB1c2VybmFtZSBvciBwaG9uZSBudW1iZXI7XG4gICAqIGlmIHRoZSB1c2VyIHBheXMgdmlhIHRoZWlyIGNyZWRpdCBjYXJkLCB0aGVuIHRoZSBTREsgd2lsbCByZW1lbWJlclxuICAgKiB0aGUgUGF5UGFsIFZhdWx0IHRva2VuIHJlcHJlc2VudGluZyB0aGUgdXNlcidzIGNyZWRpdCBjYXJkLlxuICAgKlxuICAgKiBJZiBzZXQgdG8gTk8sIHRoZW4gYW55IHByZXZpb3VzbHktcmVtZW1iZXJlZCB1c2VybmFtZSwgcGhvbmUgbnVtYmVyLCBvclxuICAgKiBjcmVkaXQgY2FyZCB0b2tlbiB3aWxsIGJlIGVyYXNlZCwgYW5kIHN1YnNlcXVlbnQgcGF5bWVudCBpbmZvcm1hdGlvbiB3aWxsXG4gICAqIG5vdCBiZSByZW1lbWJlcmVkLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBZRVMuXG4gICAqL1xuICByZW1lbWJlclVzZXI/OiBib29sZWFuO1xuICAvKipcbiAgICogSWYgbm90IHNldCwgb3IgaWYgc2V0IHRvIG5pbCwgZGVmYXVsdHMgdG8gdGhlIGRldmljZSdzIGN1cnJlbnQgbGFuZ3VhZ2Ugc2V0dGluZy5cbiAgICpcbiAgICogQ2FuIGJlIHNwZWNpZmllZCBhcyBhIGxhbmd1YWdlIGNvZGUgKFwiZW5cIiwgXCJmclwiLCBcInpoLUhhbnNcIiwgZXRjLikgb3IgYXMgYSBsb2NhbGUgKFwiZW5fQVVcIiwgXCJmcl9GUlwiLCBcInpoLUhhbnRfSEtcIiwgZXRjLikuXG4gICAqIElmIHRoZSBsaWJyYXJ5IGRvZXMgbm90IGNvbnRhaW4gbG9jYWxpemVkIHN0cmluZ3MgZm9yIGEgc3BlY2lmaWVkIGxvY2FsZSwgdGhlbiB3aWxsIGZhbGwgYmFjayB0byB0aGUgbGFuZ3VhZ2UuIEUuZy4sIFwiZXNfQ09cIiAtPiBcImVzXCIuXG4gICAqIElmIHRoZSBsaWJyYXJ5IGRvZXMgbm90IGNvbnRhaW4gbG9jYWxpemVkIHN0cmluZ3MgZm9yIGEgc3BlY2lmaWVkIGxhbmd1YWdlLCB0aGVuIHdpbGwgZmFsbCBiYWNrIHRvIEFtZXJpY2FuIEVuZ2xpc2guXG4gICAqXG4gICAqIElmIHlvdSBzcGVjaWZ5IG9ubHkgYSBsYW5ndWFnZSBjb2RlLCBhbmQgdGhhdCBjb2RlIG1hdGNoZXMgdGhlIGRldmljZSdzIGN1cnJlbnRseSBwcmVmZXJyZWQgbGFuZ3VhZ2UsXG4gICAqIHRoZW4gdGhlIGxpYnJhcnkgd2lsbCBhdHRlbXB0IHRvIHVzZSB0aGUgZGV2aWNlJ3MgY3VycmVudCByZWdpb24gYXMgd2VsbC5cbiAgICogRS5nLiwgc3BlY2lmeWluZyBcImVuXCIgb24gYSBkZXZpY2Ugc2V0IHRvIFwiRW5nbGlzaFwiIGFuZCBcIlVuaXRlZCBLaW5nZG9tXCIgd2lsbCByZXN1bHQgaW4gXCJlbl9HQlwiLlxuICAgKi9cbiAgbGFuZ3VhZ2VPckxvY2FsZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE5vcm1hbGx5LCB0aGUgU0RLIGJsdXJzIHRoZSBzY3JlZW4gd2hlbiB0aGUgYXBwIGlzIGJhY2tncm91bmRlZCxcbiAgICogdG8gb2JzY3VyZSBjcmVkaXQgY2FyZCBvciBQYXlQYWwgYWNjb3VudCBkZXRhaWxzIGluIHRoZSBpT1Mtc2F2ZWQgc2NyZWVuc2hvdC5cbiAgICogSWYgeW91ciBhcHAgYWxyZWFkeSBkb2VzIGl0cyBvd24gYmx1cnJpbmcgdXBvbiBiYWNrZ3JvdW5kaW5nLCB5b3UgbWlnaHQgY2hvb3NlIHRvIGRpc2FibGUgdGhpcy5cbiAgICogRGVmYXVsdHMgdG8gTk8uXG4gICAqL1xuICBkaXNhYmxlQmx1cldoZW5CYWNrZ3JvdW5kaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIElmIHlvdSB3aWxsIHByZXNlbnQgdGhlIFNESydzIHZpZXcgY29udHJvbGxlciB3aXRoaW4gYSBwb3BvdmVyLCB0aGVuIHNldCB0aGlzIHByb3BlcnR5IHRvIFlFUy5cbiAgICogRGVmYXVsdHMgdG8gTk8uIChpT1Mgb25seSlcbiAgICovXG4gIHByZXNlbnRpbmdJblBvcG92ZXI/OiBib29sZWFuO1xuICAvKipcbiAgICogU2FuZGJveCBjcmVkZW50aWFscyBjYW4gYmUgZGlmZmljdWx0IHRvIHR5cGUgb24gYSBtb2JpbGUgZGV2aWNlLiBTZXR0aW5nIHRoaXMgZmxhZyB0byBZRVMgd2lsbFxuICAgKiBjYXVzZSB0aGUgc2FuZGJveFVzZXJQYXNzd29yZCBhbmQgc2FuZGJveFVzZXJQaW4gdG8gYWx3YXlzIGJlIHByZS1wb3B1bGF0ZWQgaW50byBsb2dpbiBmaWVsZHMuXG4gICAqL1xuICBmb3JjZURlZmF1bHRzSW5TYW5kYm94PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFBhc3N3b3JkIHRvIHVzZSBmb3Igc2FuZGJveCBpZiAnZm9yY2VEZWZhdWx0c0luU2FuZGJveCcgaXMgc2V0LlxuICAgKi9cbiAgc2FuZGJveFVzZXJQYXNzd29yZD86IHN0cmluZztcbiAgLyoqXG4gICAqIFBJTiB0byB1c2UgZm9yIHNhbmRib3ggaWYgJ2ZvcmNlRGVmYXVsdHNJblNhbmRib3gnIGlzIHNldC5cbiAgICovXG4gIHNhbmRib3hVc2VyUGluPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAaGlkZGVuXG4gICAqL1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUGF5UGFsQ29uZmlndXJhdGlvbiBpbXBsZW1lbnRzIFBheVBhbENvbmZpZ3VyYXRpb25PcHRpb25zIHtcbiAgLyoqXG4gICAqIFlvdSB1c2UgYSBQYXlQYWxDb25maWd1cmF0aW9uIG9iamVjdCB0byBjb25maWd1cmUgbWFueSBhc3BlY3RzIG9mIGhvdyB0aGUgU0RLIGJlaGF2ZXMuXG4gICAqIHNlZSBkZWZhdWx0cyBmb3Igb3B0aW9ucyBhdmFpbGFibGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBQYXlQYWxDb25maWd1cmF0aW9uT3B0aW9ucykge1xuICAgIGNvbnN0IGRlZmF1bHRzOiBQYXlQYWxDb25maWd1cmF0aW9uT3B0aW9ucyA9IHtcbiAgICAgIGRlZmF1bHRVc2VyRW1haWw6IG51bGwsXG4gICAgICBkZWZhdWx0VXNlclBob25lQ291bnRyeUNvZGU6IG51bGwsXG4gICAgICBkZWZhdWx0VXNlclBob25lTnVtYmVyOiBudWxsLFxuICAgICAgbWVyY2hhbnROYW1lOiBudWxsLFxuICAgICAgbWVyY2hhbnRQcml2YWN5UG9saWN5VVJMOiBudWxsLFxuICAgICAgbWVyY2hhbnRVc2VyQWdyZWVtZW50VVJMOiBudWxsLFxuICAgICAgYWNjZXB0Q3JlZGl0Q2FyZHM6IHRydWUsXG4gICAgICBwYXlQYWxTaGlwcGluZ0FkZHJlc3NPcHRpb246IDAsXG4gICAgICByZW1lbWJlclVzZXI6IHRydWUsXG4gICAgICBsYW5ndWFnZU9yTG9jYWxlOiBudWxsLFxuICAgICAgZGlzYWJsZUJsdXJXaGVuQmFja2dyb3VuZGluZzogZmFsc2UsXG4gICAgICBwcmVzZW50aW5nSW5Qb3BvdmVyOiBmYWxzZSxcbiAgICAgIGZvcmNlRGVmYXVsdHNJblNhbmRib3g6IGZhbHNlLFxuICAgICAgc2FuZGJveFVzZXJQYXNzd29yZDogbnVsbCxcbiAgICAgIHNhbmRib3hVc2VyUGluOiBudWxsXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yIChjb25zdCBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgZGVmYXVsdHNbaV0gPSBvcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRzO1xuICB9XG59XG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY2xhc3MgUGF5UGFsU2hpcHBpbmdBZGRyZXNzIHtcbiAgLyoqXG4gICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB0aGUgaW5kaXZpZHVhbCBwcm9wZXJ0aWVzIGZvciBtb3JlIGRldGFpbC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHJlY2lwaWVudE5hbWU6IE5hbWUgb2YgdGhlIHJlY2lwaWVudCBhdCB0aGlzIGFkZHJlc3MuIDUwIGNoYXJhY3RlcnMgbWF4LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGluZTE6IExpbmUgMSBvZiB0aGUgYWRkcmVzcyAoZS5nLiwgTnVtYmVyLCBzdHJlZXQsIGV0YykuIDEwMCBjaGFyYWN0ZXJzIG1heC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmUyOiBMaW5lIDIgb2YgdGhlIGFkZHJlc3MgKGUuZy4sIFN1aXRlLCBhcHQgIywgZXRjKS4gMTAwIGNoYXJhY3RlcnMgbWF4LiBPcHRpb25hbC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNpdHk6IENpdHkgbmFtZS4gNTAgY2hhcmFjdGVycyBtYXguXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdGF0ZTogMi1sZXR0ZXIgY29kZSBmb3IgVVMgc3RhdGVzLCBhbmQgdGhlIGVxdWl2YWxlbnQgZm9yIG90aGVyIGNvdW50cmllcy4gMTAwIGNoYXJhY3RlcnMgbWF4LiBSZXF1aXJlZCBpbiBjZXJ0YWluIGNvdW50cmllcy5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBvc3RhbENvZGU6IFpJUCBjb2RlIG9yIGVxdWl2YWxlbnQgaXMgdXN1YWxseSByZXF1aXJlZCBmb3IgY291bnRyaWVzIHRoYXQgaGF2ZSB0aGVtLiAyMCBjaGFyYWN0ZXJzIG1heC4gUmVxdWlyZWQgaW4gY2VydGFpbiBjb3VudHJpZXMuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJ5Q29kZTogMi1sZXR0ZXIgY291bnRyeSBjb2RlLiAyIGNoYXJhY3RlcnMgbWF4LlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmVjaXBpZW50TmFtZTogc3RyaW5nLFxuICAgIGxpbmUxOiBzdHJpbmcsXG4gICAgbGluZTI6IHN0cmluZyxcbiAgICBjaXR5OiBzdHJpbmcsXG4gICAgc3RhdGU6IHN0cmluZyxcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmcsXG4gICAgY291bnRyeUNvZGU6IHN0cmluZ1xuICApIHtcbiAgICB0aGlzLnJlY2lwaWVudE5hbWUgPSByZWNpcGllbnROYW1lO1xuICAgIHRoaXMubGluZTEgPSBsaW5lMTtcbiAgICB0aGlzLmxpbmUyID0gbGluZTI7XG4gICAgdGhpcy5jaXR5ID0gY2l0eTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5wb3N0YWxDb2RlID0gcG9zdGFsQ29kZTtcbiAgICB0aGlzLmNvdW50cnlDb2RlID0gY291bnRyeUNvZGU7XG4gIH1cbiAgLyoqXG4gICAqIE5hbWUgb2YgdGhlIHJlY2lwaWVudCBhdCB0aGlzIGFkZHJlc3MuIDUwIGNoYXJhY3RlcnMgbWF4LlxuICAgKi9cbiAgcmVjaXBpZW50TmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogTGluZSAxIG9mIHRoZSBhZGRyZXNzIChlLmcuLCBOdW1iZXIsIHN0cmVldCwgZXRjKS4gMTAwIGNoYXJhY3RlcnMgbWF4LlxuICAgKi9cbiAgbGluZTE6IHN0cmluZztcbiAgLyoqXG4gICAqIExpbmUgMiBvZiB0aGUgYWRkcmVzcyAoZS5nLiwgU3VpdGUsIGFwdCAjLCBldGMpLiAxMDAgY2hhcmFjdGVycyBtYXguIE9wdGlvbmFsLlxuICAgKi9cbiAgbGluZTI6IHN0cmluZztcbiAgLyoqXG4gICAqIENpdHkgbmFtZS4gNTAgY2hhcmFjdGVycyBtYXguXG4gICAqL1xuICBjaXR5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiAyLWxldHRlciBjb2RlIGZvciBVUyBzdGF0ZXMsIGFuZCB0aGUgZXF1aXZhbGVudCBmb3Igb3RoZXIgY291bnRyaWVzLiAxMDAgY2hhcmFjdGVycyBtYXguIFJlcXVpcmVkIGluIGNlcnRhaW4gY291bnRyaWVzLlxuICAgKi9cbiAgc3RhdGU6IHN0cmluZztcbiAgLyoqXG4gICAqIFpJUCBjb2RlIG9yIGVxdWl2YWxlbnQgaXMgdXN1YWxseSByZXF1aXJlZCBmb3IgY291bnRyaWVzIHRoYXQgaGF2ZSB0aGVtLiAyMCBjaGFyYWN0ZXJzIG1heC4gUmVxdWlyZWQgaW4gY2VydGFpbiBjb3VudHJpZXMuXG4gICAqL1xuICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiAyLWxldHRlciBjb3VudHJ5IGNvZGUuIDIgY2hhcmFjdGVycyBtYXguXG4gICAqL1xuICBjb3VudHJ5Q29kZTogc3RyaW5nO1xufVxuIl19